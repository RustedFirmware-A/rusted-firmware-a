
# cargo-vet audits file

[criteria.does-not-implement-crypto]
description = """
Inspection reveals that the crate in question does not attempt to implement any
cryptographic algorithms on its own.

Note that certification of this does not require an expert on all forms of
cryptography: it's expected for crates we import to be \"good enough\" citizens,
so they'll at least be forthcoming if they try to implement something
cryptographic. When in doubt, please ask an expert."""

[criteria.ub-risk-0]
description = """
No unsafe code.

Full description of the audit criteria can be found at
https://github.com/google/rust-crate-audits/blob/main/auditing_standards.md#ub-risk-0
"""
implies = "ub-risk-1"

[criteria.ub-risk-1]
description = """
Excellent soundness.

Full description of the audit criteria can be found at
https://github.com/google/rust-crate-audits/blob/main/auditing_standards.md#ub-risk-1
"""
implies = "ub-risk-2"

[criteria.ub-risk-1-thorough]
description = """
Excellent soundness (established in a thorough review).

Full description of the audit criteria can be found at
https://github.com/google/rust-crate-audits/blob/main/auditing_standards.md#ub-risk-1-thorough
"""
implies = "ub-risk-1"
aggregated-from = "https://chromium.googlesource.com/chromiumos/third_party/rust_crates/+/refs/heads/main/cargo-vet/audits.toml?format=TEXT"

[criteria.ub-risk-2]
description = """
Negligible unsoundness or average soundness.

Full description of the audit criteria can be found at
https://github.com/google/rust-crate-audits/blob/main/auditing_standards.md#ub-risk-2
"""
implies = "ub-risk-3"
aggregated-from = "https://chromium.googlesource.com/chromiumos/third_party/rust_crates/+/refs/heads/main/cargo-vet/audits.toml?format=TEXT"

[criteria.ub-risk-2-thorough]
description = """
Negligible unsoundness or average soundness (established in a thorough review).

Full description of the audit criteria can be found at
https://github.com/google/rust-crate-audits/blob/main/auditing_standards.md#ub-risk-2-thorough
"""
implies = "ub-risk-2"
aggregated-from = "https://chromium.googlesource.com/chromiumos/third_party/rust_crates/+/refs/heads/main/cargo-vet/audits.toml?format=TEXT"

[criteria.ub-risk-3]
description = """
Mild unsoundness or suboptimal soundness.

Full description of the audit criteria can be found at
https://github.com/google/rust-crate-audits/blob/main/auditing_standards.md#ub-risk-3
"""
implies = "ub-risk-4"
aggregated-from = "https://chromium.googlesource.com/chromiumos/third_party/rust_crates/+/refs/heads/main/cargo-vet/audits.toml?format=TEXT"

[criteria.ub-risk-4]
description = """
Extreme unsoundness.

Full description of the audit criteria can be found at
https://github.com/google/rust-crate-audits/blob/main/auditing_standards.md#ub-risk-4
"""
aggregated-from = "https://chromium.googlesource.com/chromiumos/third_party/rust_crates/+/refs/heads/main/cargo-vet/audits.toml?format=TEXT"

[[audits.aarch64-paging]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.8.0"

[[audits.aarch64-paging]]
who = "Pranjal Shrivastava <praan@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.8.0 -> 0.9.1"
notes = """
\"safe-to-deploy\"

The crate introduces no new side effects like network or filesystem access.
Its functionality remains tightly sandboxed to memory management operations.
The risk profile of the crate has not increased.

The unsafe code is contained and justified by the need to interface directly
with hardware-level architecture, a standard practice for these kinds of utilities.
The changes do not introduce any new security vulnerabilities.

\"does-not-implement-crypto\"

Inspection reveals that the crate in question does not attempt to implement any
cryptographic algorithms on its own.

Inspection confirms that no new functionality related to cryptographic algorithms
has been introduced to the crate. The crate's scope remains strictly focused on
low-level AArch64 page table manipulation.

\"ub-risk-2\"

Negligible unsoundness

The crate already contained unsafe code, which is necessary for its core purpose
of interacting with CPU system registers. It therefore cannot be ub-risk-0.

The introduction of unsafe fn activate_raw() is a refactoring, not an addition of
new unsafe behavior. The asm! block it contains is the same necessary unsafe operation
that existed previously which is now improved by making the unsafety explicit for
callers who need more granular control (e.g., for multicore scenarios).

The change to Descriptor::flags() is a safety improvement, as it removes multiple
.unwrap() calls, thus eliminating potential panic points from the codebase.

No new complex or difficult-to-reason-about unsafe logic has been added.
The risk of introducing Undefined Behavior remains negligible and is inherent to the
crate's low-level function.
"""

[[audits.aarch64-paging]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.9.1 -> 0.10.0"
notes = """
Reverting activate() back to its previous form does not change the unsafe behavior.
activate()/deactivate() changed their behavior to expose the TTBR value instead of storing internally. It does not affect the existing safety requirement.
Adding barriers and using atomic types ensures multicore operation correctness and avoiding race conditions.
"""

[[audits.aarch64-paging]]
who = "Mateusz Sulimowicz <matsul@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.10.0 -> 0.11.0"

[[audits.aarch64-rt]]
who = "Pranjal Shrivastava <praan@google.com>"
criteria = "safe-to-run"
version = "0.2.2"
notes = """
The crate is safe-to-run. Its build.rs script only copies a linker script from the crate's source into the designated OUT_DIR.
It then uses standard cargo:: directives to make Cargo aware of this new file. The script does not access the network, and it's
filesystem access is confined to the expected OUT_DIR, and it does not execute any external or arbitrary shell commands.
"""

[[audits.aarch64-rt]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = "safe-to-run"
delta = "0.2.2 -> 0.3.0"
notes = "build.rs has not changed and it only accesses files in the project directory and in OUT_DIR."

[[audits.aarch64-rt]]
who = "Snehal Koukuntla <snehalreddy@google.com>"
criteria = "safe-to-run"
delta = "0.3.0 -> 0.4.2"
notes = "build.rs has not changed and it only accesses files in the project directory and in OUT_DIR."

[[audits.arm-cci]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.1.0"
notes = """
The crate uses safe-mmio to access the peripheral registers.
The unsafe assembly block only contains barrier instructions that does not violate safety guarantees.
The driver provides functions for entering and exiting cache coherency. This requires further actions from the caller that are described in the safety comments.
"""

[[audits.arm-cci]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.1.0 -> 0.1.1"
notes = "No code changes, only metadata."

[[audits.arm-ffa]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
version = "0.1.0"

[[audits.arm-ffa]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.1.0 -> 0.2.1"

[[audits.arm-ffa]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.2.1 -> 0.3.0"
notes = "There is no unsafe code in the diff, it's mostly fairly straightforward and mechanical parsing logic."

[[audits.arm-ffa]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.3.0 -> 0.3.1"
notes = "No significant change, only metadata and clippy lints."

[[audits.arm-ffa]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.3.1 -> 0.4.0"
notes = "Added support for new FF-A interfaces, minor fixes and Covering the crate with unit tests."

[[audits.arm-ffa]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.4.0 -> 0.4.1"

[[audits.arm-fvp-base-pac]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.1.3"
notes = """
The crate uses safe-mmio to access the peripheral registers.
The user can obtain multiple Peripherals instances via an unsafe function. In this case the callers responsibility to not use the same peripheral multiple times, as described in the safety requirement.
"""

[[audits.arm-fvp-base-pac]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.1.3 -> 0.1.4"
notes = "Just updates dependencies and adds new TrustZone controller device with some constants."

[[audits.arm-generic-timer]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.1.0"
notes = """
The crate uses safe-mmio to access the peripheral registers.
It provies an unsafe function for generating interrupt, where the required safety conditions are properly described.
"""

[[audits.arm-generic-timer]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.1.0 -> 0.1.1"
notes = "No code changes, only metadata."

[[audits.arm-gic]]
who = "Jeremi Miller <jeremimiller@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.4.0"
notes = """
`arm-gic` is a driver for the arm Generic Interrupt Controller.
`does-not-implement-crypto`: The crate doesn't contain any cryptographic implementations.
`safe-to-deploy`: The crate is a low-level driver that interacts with registers. It doesn't contain complex logic and it won't accept complex inputs.
`ub-risk-2`: The crate contains several unsafe blocks, for MMIO and to call assembly instructions. They are well commented and simple to reason about. While in some cases the caller has to promise safety of the block, this is standard in this kind of crates.
"""

[[audits.arm-gic]]
who = "Pranjal Shrivastava <praan@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.4.0 -> 0.6.0"
notes = """
safe-to-deploy: The unsafe code is well-encapsulated and used appropriately for its purpose. The changes in this version add support for GICv3
power management and expand the API for handling interrupt groups, but do not fundamentally alter the safety model. The primary safety contract
remains on the caller to provide valid memory-mapped register addresses, which is expected for this kind of crate.

does-not-implement-crypto: A review of the diff confirms that the crate does not contain or implement any cryptographic algorithms. Its functionality is strictly limited to interrupt controller management.

ub-risk-2: The crate's soundness is average and appropriate for its domain. The potential for undefined behavior comes from the caller violating
the documented safety preconditions (e.g., providing an invalid pointer to the constructor or calling from an incorrect CPU exception level), not from logical flaws within the crate itself.
"""

[[audits.arm-gic]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.6.0 -> 0.6.1"
notes = "Only administrative updates have been made to the repository, including modifications to the README file, license headers, and dependencies. These changes do not affect the crateâ€™s functionality or behavior."

[[audits.arm-gic]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.6.1 -> 0.7.1"

[[audits.arm-pl011-uart]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-1"]
version = "0.3.1"

[[audits.arm-pl011-uart]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.3.1 -> 0.3.2"
notes = "No significant change, only metadata and clippy fix."

[[audits.arm-pl011-uart]]
who = "Snehal Koukuntla <snehalreddy@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.3.2 -> 0.4.0"
notes = "Dependency version bump only."

[[audits.arm-pl061]]
who = "Jim Ray <jimray@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.1.1"
notes = """
\"safe-to-deploy\"

This crate implements a pl061 driver. It does not perform any ambient related capabilities
(filesystem, network, OS, etc). It also does not use any particularly powerful imports. The
functionality is soley limited to interacting with the PL061 hardware itself and provides interfaces
for interacting with that hardware in a safe manner. There is a single unsafe block. The unsafe
block is paired with a safety comment that explains why the particular usage of this code is safe.

\"does-not-implement-crypto\"

This crate does not implement any crypto functionality.

\"ub-risk-2\"

Negligible unsoundness.

The crate relies on a single unsafe block. The unsafe block is paired with a comment that explains
that the code is safe because it does not violate the preconditions of the macro. This is an
informal justification, but is trivial to verify.
"""

[[audits.arm-psci]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
version = "0.1.2"

[[audits.arm-psci]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.1.2 -> 0.1.3"
notes = "No source change, only metadata."

[[audits.arm-psci]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.1.3 -> 0.2.0"

[[audits.arm-sp805]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
version = "0.1.1"
notes = "The crate uses safe-mmio to access the peripheral registers. It does not have any unsafe code."

[[audits.arm-sp805]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.1.1 -> 0.1.2"
notes = "No substantial changes, only a lint fix."

[[audits.arm-sysregs]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.1.0"
notes = """
The arm-sysregs crate on crates.io is largely the same as the version we previously had in the RF-A
repository. It has been reviewed by the RF-A maintainers in both repositories.
"""

[[audits.arm-sysregs]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.1.0 -> 0.2.1"
notes = """
Lots of new registers added, which is mostly generated code equivalent to what was already there.
AArch32 support is similar to existing AArch64 support.
"""

[[audits.arm-tzc]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
version = "0.1.0"
notes = "Code seems well structured, has plenty of tests, and uses safe-mmio to avoid unsafe code."

[[audits.autocfg]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
delta = "1.4.0 -> 1.5.0"
notes = "The crate removes some temporary output files, but this looks fine."

[[audits.bitflags]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.9.0 -> 2.9.1"

[[audits.bitflags]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.9.1 -> 2.9.4"
notes = "No new unsafe code, just changes to documentation and refactoring of macros."

[[audits.bitflags]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.9.4 -> 2.10.0"
notes = "No new unsafe code, just some refactoring and a new iterator."

[[audits.buddy_system_allocator]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
version = "0.11.0"
notes = "Fairly straightforward code, doesn't access any local or remote resources."

[[audits.cc]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "does-not-implement-crypto"
version = "1.2.16"

[[audits.linkme]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
version = "0.3.33"
notes = "There's not much logic here, just some types and simple methods. Nothing that affects the local environment."

[[audits.linkme]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
delta = "0.3.33 -> 0.3.35"
notes = "Build script just checks Rust toolchain version, nothing else surprising."

[[audits.linkme-impl]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
version = "0.3.33"
notes = "Fairly straightforward proc macro, doesn't do anything unexpected."

[[audits.linkme-impl]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
delta = "0.3.33 -> 0.3.35"
notes = "Fairly straightforward macro changes, nothing surprisingly run locally."

[[audits.lock_api]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
delta = "0.4.10 -> 0.4.13"
notes = "No access to local resources."

[[audits.lock_api]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
delta = "0.4.13 -> 0.4.14"
notes = "Doesn't access any sensitive local resources."

[[audits.log]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.4.26 -> 0.4.27"

[[audits.log]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.4.27 -> 0.4.28"
notes = "Minor changes and tests, no new unsafe code."

[[audits.log]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.4.28 -> 0.4.29"
notes = "No unsafe code, mostly minor refactoring and lint fixes."

[[audits.num_enum]]
who = "Chris Palmer <palmer@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.7.3"
notes = """
safe-to-deploy: Given the UB risk in `num_enum_derive`, `num_enum` callers
should prefer `FromPrimitive` to `UnsafeFromPrimitive`.
"""

[[audits.num_enum]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.7.3 -> 0.7.4"
notes = "Dependency version bump, small changes in Cargo.toml."

[[audits.num_enum]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.7.4 -> 0.7.5"
notes = "Only dependency updates and minor test changes. No unsafe code."

[[audits.num_enum_derive]]
who = "Chris Palmer <palmer@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.7.3"
notes = """
ub-risk-2: unsafe in asserts, tests, and doc tests. `unchecked_transmute_from`:
unexplained use of `transmute`; caller is required to check that \"`number` must
represent a valid discriminant of `Self`.\"
"""

[[audits.num_enum_derive]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.7.3 -> 0.7.4"
notes = "Dependency version bump and minor changes in Cargo.toml."

[[audits.num_enum_derive]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "0.7.4 -> 0.7.5"
notes = "Some changes to proc macro but no unsafe code and nothing that looks dangerous."

[[audits.paste]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
version = "1.0.15"
notes = "Fairly straightforward proc macro."

[[audits.paste]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
delta = "1.0.14 -> 1.0.15"
notes = "No substantial changes."

[[audits.percore]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "0.1.0"

[[audits.percore]]
who = "Snehal Koukuntla <snehalreddy@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.1.0 -> 0.2.1"
notes = '''
\"safe-to-deploy\"

The update introduces no new side effects like network or filesystem access.

The security posture remains unchanged: the crate relies on the caller to provide correct core
indexing logic, but provides safe abstractions over the data access itself. The diff is still
aligned with that.

\"does-not-implement-crypto\"

Inspection of the diff reveals no implementation of cryptographic algorithms. The changes are
strictly related to memory layout (repr(transparent)), trait derivations (zerocopy), dynamic
memory allocation (Box), and system register manipulation for exception masking.

\"ub-risk-2\"

Negligible unsoundness

THe crate is unsafe as it relies on disabling hardware interrupts and accessing per-core
memory structures. However, the changes in this version correctly manage this risk.

The introduction of ExceptionGuard involves unsafe calls to mask/unmask interrupts. The
specific invariant that the guard must not be dropped before the ExceptionFree token, is
handled internally within the exception_free function, which is the only place the guard is
constructed. The token is passed to a closure and cannot outlive the function call, ensuring
the guard is dropped last.

The new unsafe impl Sync for PerCore<Box<[ExceptionLock<V>]>, C> relies on the same safety
argument as the existing implementation for arrays. Moving from a fixed-size array to a
boxed slice does not violate these invariants.

The zerocopy derivations are standard and appropriate for the transparent wrappers.

The update reduces the risk of UB in panic scenarios and extends the existing safe abstractions
to dynamic memory layouts.
'''

[[audits.proc-macro2]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "1.0.94 -> 1.0.101"
notes = "Changes are mostly around probing for span support in proc macro. No unsafe code."

[[audits.quote]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "1.0.40 -> 1.0.41"
notes = "Build script just checks the Rust version. Other changes are minor refactoring."

[[audits.rustversion]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "1.0.20 -> 1.0.22"
notes = "Dependency update, minor refactoring in build.rs."

[[audits.safe-mmio]]
who = "Chris Palmer <palmer@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2-thorough"]
version = "0.1.0"
notes = """
No crypto.

Safe to run: No filesystem access, process creation, et c.

Safe to deploy: Does not interact with untrustworthy data.

UB: Small amount of `unsafe`, with well-documented safety requirements for
callers. This crate probably can't be ub-risk-1 because it can't statically or
feasibly dynamically check its callers; therefore callers are on their own to
meet the (clear, straightforward) safety contract.
"""

[[audits.safe-mmio]]
who = "Pranjal Shrivastava <praan@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.1.0 -> 0.2.5"
notes = """
\"safe-to-deploy\"

The crate has no functionality related to filesystems, networking, or other ambient capabilities.
Its scope is strictly limited to MMIO.

The changes introduced between versions 0.1.0 and 0.2.5 are focused on enhancing the safety,
correctness, and ergonomics of the API. By providing a stronger type system for MMIO fields and
addressing a platform-specific compiler bug, these changes make the crate more safe to deploy, not less.

An attacker cannot manipulate the runtime behavior of the unsafe sections. The inline assembly is fixed,
and the pointers are controlled by the user of the crate, who is already operating in a privileged context
where they can provide raw memory addresses. The crate provides the tools to do this more safely.

\"does-not-implement-crypto\"

The purpose of the crate is to provide safe, low-level access to Memory-Mapped I/O (MMIO).
A review of all changes confirms that no cryptographic algorithms have been added. The crate's
functionality is strictly limited to hardware register access patterns.

\"ub-risk-2\"

Negligible unsoundness

The crate inherently requires unsafe code to perform its function of interacting with raw memory addresses.
Therefore, it cannot be ub-risk-0.

The most significant new unsafe code is the inline assembly in aarch64_mmio.rs. This change is not arbitrary;
it is a specific, targeted workaround for a documented compiler issue on AArch64.

The introduction of the ReadOnly, WriteOnly, ReadPure, etc., wrapper types is a significant safety improvement.
It moves the verification of access permissions from runtime to compile-time, reducing the surface area for
programmer error.

The unsafe blocks are well-justified by the low-level nature of the crate. The API is designed to build safe
abstractions on top of these necessary unsafe primitives. The risk of UB remains negligible and is not increased
by this delta.
"""

[[audits.safe-mmio]]
who = "Jim Ray <jimray@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.2.5 -> 0.2.7"
notes = """
\"safe-to-deploy\"
This crate is only related to MMIO. It does not use the filesystem, network, or other OS related
capabilities.

The changes from 0.2.5->0.2.7 are very minor. Some minor code style things have been changed and a
new library function has been added. The new function contains unsafe code, but each unsafe section
is paired with safety comments that describe why the particular unsafe code is actually safe. Those
safety comments are well reasoned and are in line with other safety comments in this crate. In
general, this crate only allows the user to manipulate memory regions provided by the user
themselves. This crate helps deal with those memory regions in a more safe manner. This new function
is in line with that goal by improving the flexbility of the library.

\"does-not-implement-crypto\"
This crate does not implement any crypto related code. It is soley related to MMIO.

\"ub-risk-2\"

Negligible unsoundness. The changes from 0.2.5->0.2.7 add a small amount of unsafe code. The unsafe
blocks are paired with safety comments that are well justified. The risk of UB remains negligible
and is not increased by this delta.
"""

[[audits.scopeguard]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "safe-to-run"
delta = "1.1.0 -> 1.2.0"
notes = "No access to local resources, and no major changes since last version."

[[audits.shlex]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["does-not-implement-crypto", "ub-risk-2"]
version = "1.3.0"

[[audits.smccc]]
who = "Pranjal Shrivastava <praan@google.com>"
criteria = "safe-to-run"
version = "0.2.2"
notes = "safe-to-run: The crate is safe to run. It contains no code that accesses the filesystem, network, or other ambient capabilities during the build process."

[[audits.spin]]
who = "Chris Palmer <palmer@google.com>"
criteria = ["safe-to-deploy", "ub-risk-2"]
version = "0.9.8"
notes = """
Safe to deploy: Does not interact with untrustworthy input.

UB risk: A fair amount of `unsafe`, but it is all either well explained with
SAFETY comments that rely on e.g. statically checked assertions such as
exclusive access due to `&mut` (proven by `rustc`), exclusive access due to
access inside `*Guard`s, and `debug_assert`s that check the safety
preconditions. Other uses of `unsafe` are in tests, such as to mutate a `static
mut`.
"""

[[audits.spin]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.9.8 -> 0.10.0"

[[audits.syn]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "ub-risk-2"]
version = "2.0.87"
notes = "Extensive unsafe code in buffer.rs is probably fine, but not very well documented. Unsafe APIs aren't exposed at least."

[[audits.syn]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-1"]
delta = "2.0.87 -> 2.0.106"
notes = "Lots of parsing logic changes, but nothing that looks dangerous. The only change near unsafe code is to compare pointers more safely."

[[audits.thiserror]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
version = "2.0.3"

[[audits.thiserror]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.0.3 -> 2.0.12"

[[audits.thiserror]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.0.12 -> 2.0.14"
notes = "No significant changes, only metadata and comments."

[[audits.thiserror]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.0.14 -> 2.0.16"
notes = "Bump self and dependency versions. Added option to build.rs for suppressing lint warning when building dependencies."

[[audits.thiserror]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.0.16 -> 2.0.17"
notes = "Build script change should be safe."

[[audits.thiserror-impl]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
version = "2.0.3"

[[audits.thiserror-impl]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.0.3 -> 2.0.12"

[[audits.thiserror-impl]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.0.12 -> 2.0.14"
notes = "No significant changes, only metadata and a lint attribute."

[[audits.thiserror-impl]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.0.14 -> 2.0.16"
notes = "Dependency version bump only."

[[audits.thiserror-impl]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "2.0.16 -> 2.0.17"
notes = "Minor refactoring only."

[[audits.unicode-ident]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "1.0.18 -> 1.0.19"
notes = "Just changes to data and tests."

[[audits.uuid]]
who = "Chris Palmer <palmer@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
version = "1.15.1"
notes = """
does-not-implement-crypto: Calls into `sha1_smol` to use it in a straightforward
and correct way. Uses `md5` similarly. (Although cryptographically obsolete,
particular UUID specification versions require these functions.) Uses
`getrandom` (default) or `rand` (configurable) for its RNG.

ub-risk-2: `unsafe` blocks are either well-explained with safety comments;
invocations of C functions with valid arguments (e.g. `CoCreateGuid` on
Windows), and casts from and to pointers to objects that are all newtype
wrappers of the same underlying type and hence have the same layout.
`new_unchecked` returns a `NonNilUuid` without checking it, creating the
(declared) possibility of UB.

safe-to-deploy: Limited input language. `parse_str` and callees do not use
`unsafe`. UB seems restricted to caller error (as mentioned above for
ub-risk-2).
"""

[[audits.uuid]]
who = "Jamie Fox <jamiefox@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "1.15.1 -> 1.18.0"
notes = "Minor changes only, no new unsafe code or crypto."

[[audits.uuid]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "1.18.0 -> 1.18.1"
notes = "Changed unsafe transmute calls to zerocopy if the relevant feature is enabled."

[[audits.uuid]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-0"]
delta = "1.18.1 -> 1.19.0"
notes = "No unsafe code or major logic changes."

[[audits.zerocopy]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "does-not-implement-crypto"
delta = "0.8.14 -> 0.8.26"

[[audits.zerocopy]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.8.26 -> 0.8.27"

[[audits.zerocopy]]
who = "Jim Ray <jimray@google.com>"
criteria = "does-not-implement-crypto"
delta = "0.8.27 -> 0.8.34"
notes = """
No attempt to add cryptographic functionality from 0.8.27 to 0.8.34. A single hashing function for
strings has been added (hash_name in macro_util.rs) but it is not used for any cryptographic related
functionality and makes no attempt to be cryptographically robust.
"""

[[audits.zerocopy-derive]]
who = "Andrew Walbran <qwandor@google.com>"
criteria = "does-not-implement-crypto"
delta = "0.8.14 -> 0.8.26"

[[audits.zerocopy-derive]]
who = "Imre Kis <imre.kis@arm.com>"
criteria = ["safe-to-deploy", "does-not-implement-crypto", "ub-risk-2"]
delta = "0.8.26 -> 0.8.27"
notes = "Added support and tests for 128 bit types."

[[audits.zerocopy-derive]]
who = "Jim Ray <jimray@google.com>"
criteria = "does-not-implement-crypto"
delta = "0.8.27 -> 0.8.34"
notes = "The changes from 0.8.27 to 0.8.34 do not add any cryptographic functionality."
